<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Therapieplan â€“ Onkologie</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="any">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/favicon.ico">
<meta name="theme-color" content="#2563eb">
<link rel="shortcut icon" href="favicon.ico">

<link rel="stylesheet" href="css/main.css">
</head>

<body>
<div class="container">
<div class="page-header">
  <h1 id="title" data-i18n="therapyPlanCreation"></h1>

  <div class="language-switch">
    <label>
      <span data-i18n="language"></span>
      <select id="languageSelect">
        <option value="de">Deutsch ğŸ‡©ğŸ‡ª</option>
        <option value="en">English ğŸ‡¬ğŸ‡§</option>
        <option value="tr">TÃ¼rkÃ§e ğŸ‡¹ğŸ‡·</option>
        <option value="pl">Polski ğŸ‡µğŸ‡±</option>
        <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡·ğŸ‡º</option>
        <option value="ua">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° ğŸ‡ºğŸ‡¦</option>
      </select>
    </label>
  </div>
</div>
  <form id="therapyForm">
    <label>Vorname<input id="vorname" required></label>
    <label>Nachname<input id="nachname" required></label>
    <label>Geburtsdatum (optional)
      <input type="date" id="geburt" autocomplete="off">
    </label>
    <label class="schema-field">
      Chemotherapie-Schema
      <input list="schemaList" id="schemaInput" required>
      <datalist id="schemaList"></datalist>
    </label>

    <label class="start-field">
      Startdatum Zyklus 1
      <input type="date" id="startdatum" required>
    </label>
    <label style="grid-column: 1 / -1;">
      Begleitmedikation auswÃ¤hlen:
      <select id="supportSelect"></select>
    </label>
    <label style="grid-column: 1 / -1;">
      <input type="checkbox" id="gcsfEnabled">
      G-CSF Gabe?
    </label>

    <div class="gcsf-row" id="gcsfRow" style="display:none;">
      <label id="gcsfWrapper">
        PrÃ¤parat auswÃ¤hlen:
        <select id="gcsfSelect">
          <option value="Pegfilgrastim" selected>Pegfilgrastim</option>
          <option value="Lipegfilgrastim">Lipegfilgrastim</option>
          <option value="Efbemalenograstim">Efbemalenograstim</option>
          <option value="Filgrastim">Filgrastim</option>
        </select>
      </label>

      <label id="gcsfDayWrapper">
        Applikationstag:
        <select id="gcsfDay">
          <option value="2">d2</option>
          <option value="3">d3</option>
        </select>
      </label>
    </div>

    <label style="grid-column: 1 / -1;">    
      <input type="checkbox" id="hasFollowUp">
      Anschlusstherapie?
    </label>

    <label id="followUpWrapper" style="display:none; grid-column: 1 / -1;">
      Folgetherapie auswÃ¤hlen:
      <select id="followUpSelect"></select>
    </label>

    <label id="supportFollowUpWrapper" style="display:none; grid-column: 1 / -1;">
      Begleitmedikation Folgetherapie:
      <select id="supportFollowUpSelect"></select>
    </label>
    <label id="gcsfFollowUpToggle" style="display:none; grid-column: 1 / -1;">
      <input type="checkbox" id="gcsfEnabledFollow">
      G-CSF Gabe (Folgetherapie)?
    </label>

    <div class="gcsf-row" id="gcsfRowFollow" style="display:none;">
      <label>
        PrÃ¤parat auswÃ¤hlen:
        <select id="gcsfSelectFollow">
          <option value="Pegfilgrastim" selected>Pegfilgrastim</option>
          <option value="Lipegfilgrastim">Lipegfilgrastim</option>
          <option value="Efbemalenograstim">Efbemalenograstim</option>
          <option value="Filgrastim">Filgrastim</option>
        </select>
      </label>

      <label id="gcsfDayWrapperFollow">
        Applikationstag:
        <select id="gcsfDayFollow">
          <option value="2">d2</option>
          <option value="3">d3</option>
        </select>
      </label>
    </div>
    <button type="submit">Plan berechnen</button>
  </form>

  <div class="plan" id="plan" style="display:none">
    <div id="patient"></div>
    
    <div id="graphic-container">
        <h2 class="no-print" data-i18n="graphicOverview"></h2>
        <div id="graphic"></div>
    </div>

    <div class="no-print" style="margin:2rem 0; display:flex; gap:1rem; background: #eee; padding: 1rem; border-radius: 8px;">
        <button type="button" onclick="printGraphic()">Grafik drucken (Querformat)</button>
        <button type="button" onclick="printTable()">Tabelle drucken (Hochformat)</button>
        <button type="button" id="printSupportBtn" onclick="printSupport()">
          Begleitmedikation drucken
        </button>
    </div>

    <div id="table-container">
        <h2 class="no-print" data-i18n="tableOverview"></h2>
        <div id="table"></div>
        <div id="supportGraphic"></div>
        <div id="supportPlan"></div>
    </div>
    <div id="print-footer" class="print-footer">
      <hr>
      <p data-i18n-html="footerBlock"></p>
    </div>
  </div>
</div>
<script src="js/chemoSchemas.js"></script>
<script src="js/supportSchemas.js"></script>
<script src="js/gcsfSchemas.js"></script>
<script src="js/i18n.js"></script>
<script src="js/app.js"></script>

</body>
</html>